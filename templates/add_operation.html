{% extends 'base.html' %}


{% block title %}
Add operation
{% endblock %}

{% block nav %}
<style>

</style>
<style>
  /* Стиль фиксации шапки таблицы */
  .tableFixHead {
    overflow-y: auto;
    height: 50vh;
  }

  .tableFixHead thead th {
    position: sticky;
    top: 0;
  }

  .table {
    border-collapse: collapse;
    width: 100%;
  }

  th,
  td {
    padding: 8px 16px;
  }

  th {
    background: #fff !important;
  }
</style>
<!------------------------------------------------------------------------------->
<div class="col">
  <div class="scrollspy" data-mdb-spy="scroll" data-mdb-target=".list-group" data-mdb-offset="0"
    style="position: relative;  height: calc(100vh - 25vh); overflow: auto;">
    <nav class="nav flex-column  p-4">
      <a class="nav-link" href="add_catalog">Введите данные по дефекту</a>
      <a class="nav-link" href="add_defect">Введите наименование дефекта</a>
      <a class="nav-link" href="add_operation">Введите операцию</a>
      <a class="nav-link" href="add_product">Введите информацию по изделию</a>
   </nav>
  </div>
</div>


{% endblock %}




<!------------------------------------------------------------------------------->
<!------------------------------------------------------------------------------->

{% block main %}


        <div class="col-md-6">
            <div class="form-group">
                <h2 id="2">Введите новую операцию</h2>
               {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                {% for category, message in messages %}
                <span>{{ message }}</span>
                {% endfor %}
                {% endif %}
                {% endwith %}

                <form method="post" id="3">
                    <label>Введите наименование операции: </label>
                    <input type="text" name="operation_name" id="operation_name" class="form-control"
                        placeholder="Введите наименование операции"><br>



                    <input type="submit" class="btn btn-outline-secondary" value="Отправить">

                </form>




            </div>



        </div>
 
<!------------------------------------------------------------------------------->
<!---------------------------------------------------------------------------------------->

<br>
<br>
<div class="col-md-8">

<h2>Или выберите операцию для редактирования или удаления</h2>
<div class="tableFixHead">
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">id</th>
        <th scope="col"> Зарегистрированные операции</th>
        <th scope="col"> </th>
	
      </tr>
    </thead>

    <tbody>

      {% for i in operation %}
      <tr>
        <td>{{ i.id }}</td>
      	<td>{{ i.operation_name }}</td>

		<td>
		<a href="/operation/{{ i.id }}/update" class="btn btn-outline-secondary btn-sm">Редактировать</a>
		</td>
		
{% endfor %}
	</tr>


    </tbody>

  </table>
</div>
</div>
<!---------------------------------------------------------------------------------------->

      

<script>
    
</script>

{% endblock %}


